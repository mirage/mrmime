<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Local (mrmime.Mrmime.Mailbox.Local)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">mrmime</a> &#x00BB; <a href="../../index.html">Mrmime</a> &#x00BB; <a href="../index.html">Mailbox</a> &#x00BB; Local</nav><header class="odoc-preamble"><h1>Module <code><span>Mailbox.Local</span></code></h1><p>Local part of a mailbox is a non-empty list of <a href="#val-word"><code>word</code></a> elements. You can construct local-part like this:</p><pre class="language-ocaml"><code>let local = Local.(v [ w &quot;romain&quot;; w &quot;calascibetta&quot; ]) ;;
val local : local = [ `Atom &quot;romain&quot;; `Atom &quot;calascibetta&quot; ]</code></pre><p>Spaces and control characters are allowed in the local-part:</p><pre class="language-ocaml"><code>let local = Local.(v [ w &quot;Romain Calascibetta&quot;; w &quot;to+mrmime&quot; ]) ;;
val local : local = [ `String &quot;Romain Calascibetta&quot;; `Atom &quot;to+mrmime&quot; ]
Local.to_string local ;;
- : string = &quot;\&quot;Romain Calascibetta\&quot;.to+mrmime&quot;</code></pre><p>NOTE: <code>+</code> permits your MUA to tag e-mails received with this local-part.</p><p>Valid UTF-8 string is allowed according RFC 6532 - and will be surrounded by double-quote.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-local"><a href="#type-local" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a local</span></span><span> = </span></code><ol><li id="type-local.[]" class="def variant constructor anchored"><a href="#type-local.[]" class="anchor"></a><code><span>| </span><span><span class="constructor">[]</span> : <span><span class="xref-unresolved">Mrmime__.Peano.z</span> <a href="#type-local">local</a></span></span></code></li><li id="type-local.::" class="def variant constructor anchored"><a href="#type-local.::" class="anchor"></a><code><span>| </span><span><span class="constructor">::</span> : <span class="xref-unresolved">Emile</span>.word * <span><span class="type-var">'a</span> <a href="#type-local">local</a></span> <span class="arrow">&#45;&gt;</span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Mrmime__.Peano.s</span></span> <a href="#type-local">local</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-w"><a href="#val-w" class="anchor"></a><code><span><span class="keyword">val</span> w : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Emile</span>.word</span></code></div><div class="spec-doc"><p><a href="#val-w"><code>w</code></a> produces a <b>safe</b> word. <a href="#val-w"><code>w</code></a> will try to escape control characters and verify if contents respects standards. Otherwise, <a href="#val-w"><code>w</code></a> raises an <code>Invalid_argument</code>. <code>`Word</code> produced by <a href="#val-w"><code>w</code></a> can be surrounded by double-quote.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-word"><a href="#val-word" class="anchor"></a><code><span><span class="keyword">val</span> word : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Emile</span>.word, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>word x</code> tries to normalize <code>x</code> as a <code>`Word</code> according RFC 5322. It returns <code>Error</code> if <code>x</code> does not respect standards. If contents is an UTF-8 contents, <code>word</code> will surround <code>x</code> with double-quote and will escape control characters (see <a href="../index.html#val-escape_string"><code>escape_string</code></a>).</p><p>NOTE: UTF-8 is allowed in e-mails according RFC 6532.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-word_exn"><a href="#val-word_exn" class="anchor"></a><code><span><span class="keyword">val</span> word_exn : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Emile</span>.word</span></code></div><div class="spec-doc"><p>Same as <a href="#val-word"><code>word</code></a> but raises an exception instead to return <code>Error</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-coerce"><a href="#val-coerce" class="anchor"></a><code><span><span class="keyword">val</span> coerce : <span><span><span><span class="type-var">'a</span> <span class="xref-unresolved">Mrmime__.Peano.s</span></span> <a href="#type-local">local</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Emile</span>.local</span></code></div><div class="spec-doc"><p><code>coerce l</code> returns a valid and safe <a href="#type-local"><code>local</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><span><span class="type-var">'a</span> <a href="#type-local">local</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Emile</span>.local, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>make l</code> returns a <a href="#type-local"><code>local</code></a> only if <code>l</code> is a non-empty list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Emile</span>.local, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>of_list l</code> returns a local-part from a non-empty list of well-formed words. Otherwise, it returns an error.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-v"><a href="#val-v" class="anchor"></a><code><span><span class="keyword">val</span> v : <span><span><span class="type-var">'a</span> <a href="#type-local">local</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Emile</span>.local</span></code></div><div class="spec-doc"><p>Same as <a href="#val-make"><code>make</code></a> but raises an exception instead to return <code>Error</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><span class="xref-unresolved">Emile</span>.local <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string x</code> returns a string which represents <code>x</code> as it is in an e-mail.</p></div></div></div></body></html>
