<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Encoded_word (mrmime.Mrmime.Encoded_word)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../_odoc_support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">mrmime</a> &#x00BB; <a href="../index.html">Mrmime</a> &#x00BB; Encoded_word</nav><header class="odoc-preamble"><h1>Module <code><span>Mrmime.Encoded_word</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#decoders.">Decoders.</a></li><li><a href="#encoders.">Encoders.</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-charset"><a href="#type-charset" class="anchor"></a><code><span><span class="keyword">type</span> charset</span><span> = </span><span>[ </span></code><ol><li id="type-charset.UTF_8" class="def constructor anchored"><a href="#type-charset.UTF_8" class="anchor"></a><code><span>| </span></code><code><span>`UTF_8</span></code></li><li id="type-charset.UTF_16" class="def constructor anchored"><a href="#type-charset.UTF_16" class="anchor"></a><code><span>| </span></code><code><span>`UTF_16</span></code></li><li id="type-charset.UTF_16BE" class="def constructor anchored"><a href="#type-charset.UTF_16BE" class="anchor"></a><code><span>| </span></code><code><span>`UTF_16BE</span></code></li><li id="type-charset.UTF_16LE" class="def constructor anchored"><a href="#type-charset.UTF_16LE" class="anchor"></a><code><span>| </span></code><code><span>`UTF_16LE</span></code></li><li id="type-charset.Rosetta.encoding" class="def type anchored"><a href="#type-charset.Rosetta.encoding" class="anchor"></a><code><span>| </span></code><code><span><span class="xref-unresolved">Rosetta</span>.encoding</span></code></li><li id="type-charset.US_ASCII" class="def constructor anchored"><a href="#type-charset.US_ASCII" class="anchor"></a><code><span>| </span></code><code><span>`US_ASCII</span></code></li><li id="type-charset.Charset" class="def constructor anchored"><a href="#type-charset.Charset" class="anchor"></a><code><span>| </span></code><code><span>`Charset <span class="keyword">of</span> string</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-encoding"><a href="#type-encoding" class="anchor"></a><code><span><span class="keyword">type</span> encoding</span><span> = </span></code><ol><li id="type-encoding.Quoted_printable" class="def variant constructor anchored"><a href="#type-encoding.Quoted_printable" class="anchor"></a><code><span>| </span><span><span class="constructor">Quoted_printable</span></span></code></li><li id="type-encoding.Base64" class="def variant constructor anchored"><a href="#type-encoding.Base64" class="anchor"></a><code><span>| </span><span><span class="constructor">Base64</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-b"><a href="#val-b" class="anchor"></a><code><span><span class="keyword">val</span> b : <a href="#type-encoding">encoding</a></span></code></div><div class="spec-doc"><p>Base64 encoding.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-q"><a href="#val-q" class="anchor"></a><code><span><span class="keyword">val</span> q : <a href="#type-encoding">encoding</a></span></code></div><div class="spec-doc"><p>Inline quoted-printable encoding.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><ol><li id="type-t.charset" class="def record field anchored"><a href="#type-t.charset" class="anchor"></a><code><span>charset : <a href="#type-charset">charset</a>;</span></code></li><li id="type-t.encoding" class="def record field anchored"><a href="#type-t.encoding" class="anchor"></a><code><span>encoding : <a href="#type-encoding">encoding</a>;</span></code></li><li id="type-t.data" class="def record field anchored"><a href="#type-t.data" class="anchor"></a><code><span>data : <span><span>(string, <span>[ <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_normalized"><a href="#val-is_normalized" class="anchor"></a><code><span><span class="keyword">val</span> is_normalized : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>encoding:<a href="#type-encoding">encoding</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-t">t</a>, <span>[ <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>make ~encoding x</code> returns an <i>encoded</i> word according <code>encoding</code> (Quoted Printable encoding or Base64 encoding). <code>x</code> must be a valid UTF-8 string. <i>charset</i> of <i>encoded</i> word will be, by the way, <code>&quot;UTF-8&quot;</code>.</p><p>NOTE: If you expect to generate an <i>encoded</i> word with something else than UTF-8 (like latin1), we decided to not handle this case and just produce valid UTF-8 contents in any cases.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_exn"><a href="#val-make_exn" class="anchor"></a><code><span><span class="keyword">val</span> make_exn : <span>encoding:<a href="#type-encoding">encoding</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Alias of <a href="#val-make"><code>make</code></a> but raises an <code>Invalid_argument</code> if it fails.</p></div></div><p>Accessors.</p><div class="odoc-spec"><div class="spec value anchored" id="val-encoding"><a href="#val-encoding" class="anchor"></a><code><span><span class="keyword">val</span> encoding : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-encoding">encoding</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-charset"><a href="#val-charset" class="anchor"></a><code><span><span class="keyword">val</span> charset : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-charset">charset</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-data"><a href="#val-data" class="anchor"></a><code><span><span class="keyword">val</span> data : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string, <span>[ <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><p>Pretty-printer.</p><div class="odoc-spec"><div class="spec value anchored" id="val-pp_charset"><a href="#val-pp_charset" class="anchor"></a><code><span><span class="keyword">val</span> pp_charset : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-charset">charset</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_encoding"><a href="#val-pp_encoding" class="anchor"></a><code><span><span class="keyword">val</span> pp_encoding : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-encoding">encoding</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><p>Equal.</p><div class="odoc-spec"><div class="spec value anchored" id="val-equal_charset"><a href="#val-equal_charset" class="anchor"></a><code><span><span class="keyword">val</span> equal_charset : <span><a href="#type-charset">charset</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-charset">charset</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal_encoding"><a href="#val-equal_encoding" class="anchor"></a><code><span><span class="keyword">val</span> equal_encoding : <span><a href="#type-encoding">encoding</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-encoding">encoding</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-charset_of_string"><a href="#val-charset_of_string" class="anchor"></a><code><span><span class="keyword">val</span> charset_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-charset">charset</a></span></code></div><div class="spec-doc"><p><code>charset_of_string s</code> returns <i>charset</i> of well-formed charset identifier <code>s</code> (according IANA).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-charset_to_string"><a href="#val-charset_to_string" class="anchor"></a><code><span><span class="keyword">val</span> charset_to_string : <span><a href="#type-charset">charset</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-normalize_to_utf8"><a href="#val-normalize_to_utf8" class="anchor"></a><code><span><span class="keyword">val</span> normalize_to_utf8 : 
  <span>charset:<a href="#type-charset">charset</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string, <span>[ <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>normalize_to_utf8 ~charset s</code> maps a source <code>s</code> which is encoded with the charset <a href="#val-charset"><code>charset</code></a> and try to map/normalize it to UTF-8.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_string"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-t">t</a>, <span>[ <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>of_string v</code> tries to parse <code>v</code> as an encoded-word (according RFC 2047).</p></div></div><h3 id="decoders."><a href="#decoders." class="anchor"></a>Decoders.</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Decoder"><a href="#module-Decoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Decoder/index.html">Decoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="encoders."><a href="#encoders." class="anchor"></a>Encoders.</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Encoder"><a href="#module-Encoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Encoder/index.html">Encoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>